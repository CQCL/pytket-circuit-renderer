<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <script type="application/javascript" src="https://cdn.jsdelivr.net/npm/vue@3"></script>
    <script type="application/javascript" src="https://unpkg.com/pytket-circuit-renderer@latest/dist/pytket-circuit-renderer.umd.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/pytket-circuit-renderer@latest/dist/pytket-circuit-renderer.css">

    <title>Test Circuit Display App</title>
  </head>
  <body>
    <div id="app">
        <h1>Sample Pytket-circuit-display (from Latest npm version):</h1>
        <div>
            <button @click="circuitElementStr = '#basic-circ'" :class="{'active': circuitElementStr === '#basic-circ'}">
                Basic
            </button>
            <button @click="circuitElementStr = '#optype-circ'" :class="{'active': circuitElementStr === '#optype-circ'}">
                From OpTypes
            </button>
            <button @click="circuitElementStr = '#classical-circ'">Classical</button>
            <button @click="circuitElementStr = '#qir-circ'">QIR</button>
            <button @click="circuitElementStr = '#boxes-circ'">Boxes</button>
            <button @click="circuitElementStr = '#control-circ'">Control</button>
            <button @click="circuitElementStr = '#nest-circ'">Basic nesting</button>
            <button @click="circuitElementStr = '#big-circ'">Large with deep nesting</button>
        </div>

        <div id="basic-circ" style="display: none">
          {"phase":"0.5","commands":[{"op":{"type":"Measure"},"args":[["q",[1]],["c",[1]]]},{"op":{"type":"U3","params":["1.0","-0.5","0.5"]},"args":[["q",[0]]]},{"op":{"type":"Measure"},"args":[["q",[0]],["c",[0]]]},{"op":{"type":"Measure"},"args":[["q",[1]],["c",[1]]]}],"qubits":[["q",[0]],["q",[1]]],"bits":[["c",[0]],["c",[1]]],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}
        </div>
        <div id="optype-circ" style="display: none">
          {"bits": [["c", [0]], ["c", [1]], ["c", [2]], ["c", [3]]], "commands": [{"args": [["q", [0]]], "op": {"type": "X"}}, {"args": [["q", [1]]], "op": {"type": "Y"}}, {"args": [["q", [2]]], "op": {"type": "Z"}}, {"args": [["q", [3]]], "op": {"type": "H"}}, {"args": [["q", [0]]], "op": {"type": "S"}}, {"args": [["q", [1]]], "op": {"type": "T"}}, {"args": [["q", [2]]], "op": {"type": "V"}}, {"args": [["q", [0]], ["q", [3]], ["c", [1]]], "op": {"signature": ["Q", "Q", "C"], "type": "Barrier"}}, {"args": [["q", [1]], ["q", [2]]], "op": {"type": "CX"}}, {"args": [["q", [0]]], "op": {"params": ["0.33"], "type": "Rx"}}, {"args": [["q", [3]]], "op": {"type": "Sdg"}}, {"args": [["q", [3]], ["c", [0]]], "op": {"type": "Measure"}}, {"args": [["q", [3]]], "op": {"type": "Reset"}}, {"args": [["q", [1]], ["q", [3]]], "op": {"type": "CY"}}, {"args": [["q", [0]], ["q", [3]]], "op": {"type": "CZ"}}, {"args": [["q", [1]], ["q", [0]]], "op": {"params": ["0.5"], "type": "CRz"}}, {"args": [["q", [2]], ["q", [3]]], "op": {"params": ["0.2555555555"], "type": "ZZPhase"}}, {"args": [["q", [1]], ["c", [1]]], "op": {"type": "Measure"}}, {"args": [["q", [0]], ["q", [3]]], "op": {"type": "SWAP"}}, {"args": [["q", [2]], ["q", [3]], ["q", [0]]], "op": {"type": "CSWAP"}}, {"args": [["q", [0]], ["q", [3]], ["q", [2]]], "op": {"type": "CSWAP"}}, {"args": [["q", [0]], ["c", [0]]], "op": {"type": "Measure"}}, {"args": [["q", [2]], ["c", [2]]], "op": {"type": "Measure"}}, {"args": [["q", [3]], ["c", [3]]], "op": {"type": "Measure"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]], [["q", [3]], ["q", [3]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]]}
        </div>
        <div id="classical-circ" style="display: none">
          {"bits": [["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]], ["b", [0]], ["b", [1]], ["b", [2]], ["c", [0]], ["c", [1]], ["c", [2]], ["tk_SCRATCH_BIT", [0]]], "commands": [{"args": [["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]]], "op": {"classical": {"values": [true, true, false, false]}, "type": "SetBits"}}, {"args": [["a", [0]]], "op": {"classical": {"values": [true]}, "type": "SetBits"}}, {"args": [["a", [0]], ["a", [1]], ["a", [2]], ["b", [0]], ["b", [1]], ["b", [2]]], "op": {"classical": {"n_i": 3}, "type": "CopyBits"}}, {"args": [["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]], ["tk_SCRATCH_BIT", [0]]], "op": {"classical": {"lower": 2, "n_i": 4, "upper": 4294967295}, "type": "RangePredicate"}}, {"args": [["a", [2]], ["b", [1]]], "op": {"classical": {"n_i": 1}, "type": "CopyBits"}}, {"args": [["tk_SCRATCH_BIT", [0]], ["b", [0]], ["b", [1]], ["b", [2]]], "op": {"conditional": {"op": {"classical": {"values": [true, true, false]}, "type": "SetBits"}, "value": 1, "width": 1}, "type": "Conditional"}}, {"args": [["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]], ["b", [0]], ["b", [1]], ["b", [2]], ["c", [0]], ["c", [1]], ["c", [2]]], "op": {"box": {"exp": {"args": [{"name": "a", "size": 4}, {"name": "b", "size": 3}], "op": "RegWiseOp.XOR"}, "id": "264724cc-a0ef-4da1-b80f-6a2b1596ae89", "n_i": 7, "n_io": 0, "n_o": 3, "type": "ClassicalExpBox"}, "type": "ClassicalExpBox"}}, {"args": [["a", [1]], ["b", [2]], ["c", [0]]], "op": {"box": {"exp": {"args": [["a", [1]], ["b", [2]]], "op": "BitWiseOp.AND"}, "id": "7838d83e-f2e5-42ad-976b-93e02a31a846", "n_i": 2, "n_io": 0, "n_o": 1, "type": "ClassicalExpBox"}, "type": "ClassicalExpBox"}}, {"args": [["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]], ["b", [0]], ["b", [1]], ["b", [2]], ["c", [0]], ["c", [1]], ["c", [2]]], "op": {"box": {"exp": {"args": [{"name": "a", "size": 4}, {"args": [{"name": "b", "size": 3}, {"name": "c", "size": 3}], "op": "RegWiseOp.DIV"}], "op": "RegWiseOp.ADD"}, "id": "f4b78f91-836f-4190-9f6f-b8aa98764f98", "n_i": 7, "n_io": 3, "n_o": 0, "type": "ClassicalExpBox"}, "type": "ClassicalExpBox"}}, {"args": [["b", [0]], ["b", [1]], ["b", [2]], ["c", [0]], ["c", [1]], ["c", [2]], ["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]]], "op": {"box": {"exp": {"args": [{"name": "a", "size": 4}, {"args": [{"name": "b", "size": 3}, {"name": "c", "size": 3}], "op": "RegWiseOp.MUL"}], "op": "RegWiseOp.SUB"}, "id": "4938287d-727c-4edc-8bd3-5d45887550a3", "n_i": 6, "n_io": 4, "n_o": 0, "type": "ClassicalExpBox"}, "type": "ClassicalExpBox"}}, {"args": [["a", [0]], ["a", [1]], ["a", [2]], ["a", [3]]], "op": {"box": {"exp": {"args": [{"name": "a", "size": 4}, 2], "op": "RegWiseOp.LSH"}, "id": "c366995e-af73-45a7-a3d1-e4bc18938e2a", "n_i": 0, "n_io": 4, "n_o": 0, "type": "ClassicalExpBox"}, "type": "ClassicalExpBox"}}, {"args": [["b", [0]], ["b", [1]], ["b", [2]], ["c", [0]], ["c", [1]], ["c", [2]]], "op": {"box": {"exp": {"args": [{"name": "b", "size": 3}, 1], "op": "RegWiseOp.RSH"}, "id": "9f489ae2-47e6-4189-97e9-063487aa1648", "n_i": 3, "n_io": 0, "n_o": 3, "type": "ClassicalExpBox"}, "type": "ClassicalExpBox"}}], "implicit_permutation": [], "phase": "0.0", "qubits": []}
        </div>
        <div id="boxes-circ" style="display: none">
          {"bits": [], "commands": [{"args": [["q", [0]]], "op": {"box": {"id": "2e6380c5-a346-4485-a835-8d610d198bc9", "matrix": [[[0.0, 0.0], [-0.0, -1.0]], [[1.0, 0.0], [0.0, 0.0]]], "type": "Unitary1qBox"}, "type": "Unitary1qBox"}}, {"args": [["q", [0]], ["q", [1]]], "op": {"box": {"id": "0c348ac1-6610-4774-95fa-e660e6cc7baf", "matrix": [[[0.0, 0.0], [1.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[0.0, 1.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [-0.0, -1.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [1.0, 0.0]]], "type": "Unitary2qBox"}, "type": "Unitary2qBox"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]]], "op": {"box": {"id": "0d6e4d4c-98fc-4d51-adb6-befdd2a7b726", "matrix": [[[0.0, 0.0], [0.0, 1.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[1.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [1.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 1.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [-0.0, -1.0]], [[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [-1.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [1.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [-0.0, -1.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]]], "type": "Unitary3qBox"}, "type": "Unitary3qBox"}}, {"args": [["q", [0]], ["q", [1]]], "op": {"box": {"id": "d5803067-615e-4275-8795-bd298c6c85c5", "paulis": ["X", "Y"], "phase": "0.1", "type": "PauliExpBox"}, "type": "PauliExpBox"}}, {"args": [["q", [0]], ["q", [1]]], "op": {"box": {"id": "f7937806-29f0-4a09-90bc-6087943d5f11", "paulis": ["Y", "X"], "phase": "-0.1", "type": "PauliExpBox"}, "type": "PauliExpBox"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]], "op": {"box": {"id": "1595a725-9c9c-46bb-80d7-77b83a1f0696", "paulis": ["X", "Y", "Y", "Y"], "phase": "0.2", "type": "PauliExpBox"}, "type": "PauliExpBox"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]], "op": {"box": {"id": "4dabba8f-3b09-4be6-8a2b-d86af503c579", "paulis": ["Y", "X", "Y", "Y"], "phase": "-0.2", "type": "PauliExpBox"}, "type": "PauliExpBox"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]]], "op": {"box": {"id": "05ae75f6-894e-4d37-92cf-37a1f5807819", "tab": {"qubits": [["q", [0]], ["q", [1]], ["q", [2]]], "tab": {"nqubits": 3, "nrows": 6, "phase": [[false], [false], [true], [true], [false], [true]], "xmat": [[true, true, false], [false, true, false], [false, false, true], [false, false, false], [false, true, false], [false, false, false]], "zmat": [[false, false, false], [false, false, false], [false, false, true], [true, false, false], [true, true, false], [false, false, true]]}}, "type": "UnitaryTableauBox"}, "type": "UnitaryTableauBox"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]], [["q", [3]], ["q", [3]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]]}
        </div>
        <div id="control-circ" style="display: none">
          {"bits": [["c", [0]], ["c", [1]]], "commands": [{"args": [["q", [0]], ["q", [1]]], "op": {"box": {"id": "b142ac60-66e3-4c92-bb18-eb4e61143b3b", "n_controls": 1, "op": {"type": "X"}, "type": "QControlBox"}, "type": "QControlBox"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]]], "op": {"box": {"id": "bf40b1b3-0025-483c-a670-9112cce76c2d", "n_controls": 1, "op": {"type": "CX"}, "type": "QControlBox"}, "type": "QControlBox"}}, {"args": [["q", [2]], ["q", [1]], ["q", [3]], ["q", [0]]], "op": {"box": {"id": "4e98b695-13b2-4430-ab59-0f1a374aead6", "n_controls": 2, "op": {"params": ["0.4"], "type": "ZZPhase"}, "type": "QControlBox"}, "type": "QControlBox"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]], "op": {"box": {"id": "9be01e84-d84d-445d-80c7-93ec73563263", "n_controls": 2, "op": {"box": {"id": "c889e4a6-d683-45f0-9f03-754a5b449f02", "matrix": [[[0.0, 0.0], [0.0, 0.0], [0.0, 0.0], [1.0, 0.0]], [[0.0, 0.0], [0.0, 0.0], [1.0, 0.0], [0.0, 0.0]], [[0.0, 0.0], [1.0, 0.0], [0.0, 0.0], [0.0, 0.0]], [[1.0, 0.0], [0.0, 0.0], [0.0, 0.0], [0.0, 0.0]]], "phase": 1.0, "type": "ExpBox"}, "type": "ExpBox"}, "type": "QControlBox"}, "type": "QControlBox"}}, {"args": [["q", [2]], ["q", [1]], ["q", [3]], ["q", [0]]], "op": {"box": {"id": "742b3abb-fa68-4367-b5f0-a1b2513acfe2", "n_controls": 1, "op": {"box": {"id": "bf40b1b3-0025-483c-a670-9112cce76c2d", "n_controls": 1, "op": {"type": "CX"}, "type": "QControlBox"}, "type": "QControlBox"}, "type": "QControlBox"}, "type": "QControlBox"}}, {"args": [["q", [2]], ["q", [1]], ["q", [3]], ["q", [0]]], "op": {"box": {"id": "9fb4b908-9e15-431a-8fbe-c9c9155367d7", "n_controls": 1, "op": {"box": {"circuit": {"bits": [], "commands": [{"args": [["q", [0]]], "op": {"type": "H"}}, {"args": [["q", [1]], ["q", [0]]], "op": {"type": "CX"}}, {"args": [["q", [1]], ["q", [2]], ["q", [0]]], "op": {"type": "CCX"}}, {"args": [["q", [2]]], "op": {"params": ["0.25"], "type": "Rz"}}, {"args": [["q", [2]]], "op": {"type": "Z"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]]]}, "id": "dcc6b230-c144-4257-9eff-1ff7a7ced912", "type": "CircBox"}, "type": "CircBox"}, "type": "QControlBox"}, "type": "QControlBox"}}, {"args": [["c", [0]], ["q", [1]], ["q", [2]]], "op": {"conditional": {"op": {"type": "CX"}, "value": 1, "width": 1}, "type": "Conditional"}}, {"args": [["c", [1]], ["q", [0]], ["q", [1]], ["q", [2]]], "op": {"conditional": {"op": {"type": "CCX"}, "value": 1, "width": 1}, "type": "Conditional"}}, {"args": [["c", [0]], ["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]], "op": {"conditional": {"op": {"box": {"id": "4e98b695-13b2-4430-ab59-0f1a374aead6", "n_controls": 2, "op": {"params": ["0.4"], "type": "ZZPhase"}, "type": "QControlBox"}, "type": "QControlBox"}, "value": 1, "width": 1}, "type": "Conditional"}}, {"args": [["c", [0]], ["q", [0]], ["q", [1]], ["q", [2]]], "op": {"conditional": {"op": {"box": {"circuit": {"bits": [], "commands": [{"args": [["q", [0]]], "op": {"type": "H"}}, {"args": [["q", [1]], ["q", [0]]], "op": {"type": "CX"}}, {"args": [["q", [1]], ["q", [2]], ["q", [0]]], "op": {"type": "CCX"}}, {"args": [["q", [2]]], "op": {"params": ["0.25"], "type": "Rz"}}, {"args": [["q", [2]]], "op": {"type": "Z"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]]]}, "id": "dcc6b230-c144-4257-9eff-1ff7a7ced912", "type": "CircBox"}, "type": "CircBox"}, "value": 1, "width": 1}, "type": "Conditional"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]], [["q", [3]], ["q", [3]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]]}
        </div>
        <div id="nest-circ" style="display: none">
          {"bits": [], "commands": [{"args": [["q", [2]], ["q", [3]], ["q", [1]]], "op": {"box": {"gate": {"args": [], "definition": {"bits": [], "commands": [{"args": [["q", [0]]], "op": {"type": "H"}}, {"args": [["q", [1]], ["q", [0]]], "op": {"type": "CX"}}, {"args": [["q", [1]], ["q", [2]], ["q", [0]]], "op": {"type": "CCX"}}, {"args": [["q", [2]]], "op": {"params": ["0.25"], "type": "Rz"}}, {"args": [["q", [2]]], "op": {"type": "Z"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]]]}, "name": "Gertrude `alpha`"}, "id": "107d7369-cbc3-4f86-9683-0586b2d1c5a9", "params": [], "type": "CustomGate"}, "type": "CustomGate"}}, {"args": [["q", [0]], ["q", [1]], ["q", [2]]], "op": {"box": {"circuit": {"bits": [], "commands": [{"args": [["q", [0]]], "op": {"type": "H"}}, {"args": [["q", [1]], ["q", [0]]], "op": {"type": "CX"}}, {"args": [["q", [1]], ["q", [2]], ["q", [0]]], "op": {"type": "CCX"}}, {"args": [["q", [2]]], "op": {"params": ["0.25"], "type": "Rz"}}, {"args": [["q", [2]]], "op": {"type": "Z"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]]]}, "id": "c98aead9-e790-4ae0-ad75-28f646ec8a44", "type": "CircBox"}, "type": "CircBox"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]], [["q", [2]], ["q", [2]]], [["q", [3]], ["q", [3]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]], ["q", [2]], ["q", [3]]]}
        </div>
        <div id="big-circ" style="display: none">
          {"name":"Example circuit","phase":"0.0","qubits":[["q",[0]],["q",[1]],["p",[0]],["q",[2]]],"bits":[["c",[0]],["c",[1]],["c",[2]],["c",[3]]],"commands":[{"op":{"type":"CX"},"args":[["q",[1]],["q",[0]]]},{"op":{"type":"CH"},"args":[["p",[0]],["q",[2]]]},{"op":{"type":"CnRy","params":["0.25898888888"]},"args":[["q",[2]],["q",[0]],["p",[0]]]},{"op":{"type":"H"},"args":[["q",[0]]]},{"op":{"type":"Rxx","params":["0.25"]},"args":[["q",[1]],["q",[2]]]},{"op":{"type":"X"},"args":[["q",[0]]]},{"op":{"type":"Reset"},"args":[["q",[1]]]},{"op":{"type":"CRxyz","params":["0.34","0.7","1.2"]},"args":[["p",[0]],["q",[2]]]},{"op":{"type":"PHI"},"args":[["q",[2]],["q",[1]]]},{"op":{"type":"SWAP"},"args":[["q",[0]],["q",[2]]]},{"op":{"type":"CSWAP"},"args":[["p",[0]],["q",[2]],["q",[1]]]},{"op":{"type":"PHI-C"},"args":[["q",[2]],["q",[0]],["c",[1]]]},{"op":{"type":"CCX"},"args":[["q",[0]],["q",[1]],["q",[2]]]},{"op":{"type":"CX"},"args":[["q",[0]],["q",[2]]]},{"op":{"type":"CRz","params":["0.25"]},"args":[["q",[2]],["q",[0]]]},{"op":{"type":"Unitary1qBox","box":{"id":"32e1069b-8fc6-4644-a195-b327889aa330","matrix":[[[0,0],[1,0]],[[0.707,0.707777777],[0,-1]]],"type":"Unitary1qBox"}},"args":[["q",[2]]]},{"op":{"type":"Unitary3qBox","box":{"id":"516051c8-bb47-4455-ae9d-158b666d7073","matrix":[[[0,1],[1,0],[0.707,-0.707],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,0],[0.707,0.707],[0,0],[1,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-1,0],[1,0],[0,0],[-0.707,-0.707],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-0.707,0.707],[0,0],[0,-1],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,1],[1,0],[0.707,-0.707],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,0],[0.707,0.707],[0,0],[1,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-1,0],[1,0],[0,0],[-0.707,-0.707],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-0.707,0.707],[0,0],[0,-1],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]]],"type":"Unitary3qBox"}},"args":[["q",[0]],["q",[1]],["p",[0]]]},{"op":{"type":"Unitary2qBox","box":{"id":"cdaafb45-929d-4f4a-af85-42fc66693ec7","matrix":[[[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,0],[0.707,0.707],[0,0],[1,0]],[[-1,0],[1,0],[0,0],[-0.707,-0.707]],[[-0.707,0.707],[0,0],[0,-1],[0,0]]],"type":"Unitary2qBox"}},"args":[["q",[0]],["q",[1]]]},{"op":{"type":"ExpBox","box":{"id":"81d4a2f3-8a49-46f2-a945-a40bdb6a6933","type":"ExpBox","matrix":[[[0,0],[1,0]],[[0.707,0.707],[0,-1]]],"phase":3}},"args":[["p",[0]]]},{"op":{"type":"ProjectorAssertionBox","box":{"id":"b97cd427-d224-4acb-bf50-3a9ac5b4b9de","type":"ProjectorAssertionBox","matrix":[[[0,0],[1,0]],[[0.707,0.707],[0,-1]]]}},"args":[["q",[2]],["c",[0]]]},{"op":{"type":"StabiliserAssertionBox","box":{"id":"80607fe8-8718-43e7-ac7f-63c772441c1d","type":"StabiliserAssertionBox","stabilisers":[{"coeff":true,"string":["X"]},{"coeff":true,"string":["Y"]},{"coeff":false,"string":["Z"]}]}},"args":[["q",[0]],["q",[2]],["c",[0]],["c",[1]],["c",[2]]]},{"op":{"type":"Condition","conditional":{"op":{"type":"YYPhase","params":["0.5*alpha_1"]},"width":3,"value":7}},"args":[["c",[0]],["c",[1]],["c",[2]],["q",[0]],["q",[2]]]},{"op":{"type":"PauliExpBox","box":{"id":"205eff17-1b1c-4cbe-97bd-6150b131a833","type":"PauliExpBox","paulis":["X","Z"],"phase":"0.634"}},"args":[["p",[0]],["q",[0]]]},{"op":{"type":"PhasePolyBox","box":{"id":"671434a7-e7f4-48de-b687-b660f687545f","type":"PhasePolyBox","n_qubits":2,"qubit_indices":[[["p",[0]],1],[["q",[1]],2]],"phase_polynomial":[[[false,false],0.4],[[false,true],0.3],[[true,false],0.2],[[true,true],0.1]],"linear_transformation":[[true,false,false,true],[false,true,true,false],[false,true,false,false],[false,true,true,true]]}},"args":[["p",[0]],["q",[1]]]},{"op":{"type":"Measure"},"args":[["q",[0]],["c",[0]]]},{"op":{"type":"Custom","box":{"id":"13aa2b86-e4c9-4def-8715-3c8e2c116522","type":"Composite","gate":{"args":["alpha","beta","gamma"],"definition":{"phase":"0.0","qubits":[["q",[0]],["q",[1]],["q",[2]]],"bits":[],"commands":[{"op":{"type":"PauliExpBox","box":{"id":"1d57e158-521f-46d2-9a51-02b380f0f8a4","type":"PauliExpBox","paulis":["X","X","Y"],"phase":"-0.3*alpha"}},"args":[["q",[0]],["q",[1]],["q",[2]]]},{"op":{"type":"PauliExpBox","box":{"id":"2a3869e8-8894-438e-b5d3-ae60d10f8d66","type":"PauliExpBox","paulis":["Y","X","X"],"phase":"-0.3*beta"}},"args":[["q",[0]],["q",[1]],["q",[2]]]},{"op":{"type":"Rx","params":["gamma"]},"args":[["q",[1]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]]]},"name":"Frank"},"params":["0.707","1.5","0.2"]}},"args":[["p",[0]],["q",[1]],["q",[0]]]},{"op":{"type":"Control","box":{"id":"1cc06ca1-3d37-4ab3-9976-3bf2570f1cdf","type":"QControlBox","n_controls":2,"op":{"type":"Rx","params":["0.3"]}}},"args":[["p",[0]],["q",[1]],["q",[0]]]},{"op":{"type":"Control","box":{"id":"b45ab9e7-d677-4856-bcb7-cb1f20ec127e","type":"QControlBox","n_controls":2,"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]]],"bits":[],"commands":[{"op":{"type":"CX"},"args":[["q",[0]],["q",[1]]]},{"op":{"type":"Rz","params":["0.2"]},"args":[["q",[1]]]},{"op":{"type":"PauliExpBox","box":{"id":"0869b61f-6fe9-46a4-b614-4201ce39bfd1","type":"PauliExpBox","paulis":["Z","Y"],"phase":"-0.2"}},"args":[["q",[0]],["q",[1]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}}}}},"args":[["p",[0]],["q",[1]],["q",[0]],["q",[2]]]},{"op":{"type":"Control","box":{"id":"76996535-ed6e-42dc-bdd9-ee0a0a8352fb","type":"QControlBox","n_controls":2,"op":{"type":"ExpBox","box":{"id":"867b9d27-c4c4-4a0a-80af-5c6868b4a303","type":"ExpBox","matrix":[[[0,0],[1,0]],[[0.707,0.707],[0,-1]]],"phase":3}}}},"args":[["q",[1]],["q",[0]],["q",[2]]]},{"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{"phase":"0.0","qubits":[],"bits":[["c",[0]],["c",[1]],["c",[2]]],"commands":[{"op":{"type":"ExplicitModifier","classical":{"n_i":1,"name":"XOR","values":[0,1,1,0]}},"args":[["c",[0]],["c",[1]]]},{"op":{"type":"ExplicitModifier","classical":{"n_i":1,"name":"XOR","values":[0,1,1,0]}},"args":[["c",[1]],["c",[0]]]},{"op":{"type":"ExplicitPredicate","classical":{"n_i":2,"name":"AND","values":[0,0,0,1]}},"args":[["c",[0]],["c",[1]],["c",[2]]]},{"op":{"type":"SetBits","classical":{"values":[0,1]}},"args":[["c",[0]],["c",[1]]]},{"op":{"type":"ExplicitPredicate","classical":{"n_i":1,"name":"NOT","values":[1,0]}},"args":[["c",[2]],["c",[2]]]},{"op":{"type":"ExplicitPredicate","classical":{"n_i":1,"name":"NOT","values":[1,0]}},"args":[["c",[0]],["c",[1]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]]]}}},"args":[["c",[0]],["c",[2]],["c",[1]]]},{"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]]],"bits":[["c",[0]],["c",[1]],["c",[2]]],"commands":[{"op":{"type":"CX"},"args":[["q",[0]],["q",[1]]]},{"op":{"type":"Rz","params":["0.2"]},"args":[["q",[1]]]},{"op":{"type":"ExplicitPredicate","classical":{"n_i":1,"name":"NOT","values":[1,0]}},"args":[["c",[0]]]},{"op":{"type":"CopyBits","classical":{"n_i":2}},"args":[["c",[0]],["c",[1]],["c",[2]]]},{"op":{"type":"RangePredicate","classical":{"n_i":2,"upper":6,"lower":2}},"args":[["c",[1]],["c",[2]],["c",[0]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}}},"args":[["q",[0]],["q",[2]],["c",[2]]]},{"op":{"type":"CircBox","box":{"id":"621ee04f-bc1f-4ae3-bbf5-0db8385e9e01","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]],"bits":[],"commands":[{"op":{"type":"SWAP"},"args":[["q",[1]],["q",[3]]]},{"op":{"type":"CircBox","box":{"id":"621ee04f-bc1f-4ae3-bbf5-0db8385e9e01","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]],"bits":[],"commands":[{"op":{"type":"CnX","n_qb":4},"args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]},{"op":{"type":"CnRy","n_qb":4,"params":["0.2"]},"args":[["q",[3]],["q",[2]],["q",[1]],["q",[0]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]],[["q",[3]],["q",[3]]]]}}},"args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]},{"op":{"type":"SWAP"},"args":[["q",[3]],["q",[1]]]},{"op":{"type":"CX"},"args":[["q",[2]],["q",[0]]]},{"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]]],"bits":[],"commands":[{"op":{"type":"CX"},"args":[["q",[0]],["q",[1]]]},{"op":{"type":"Rz","params":["0.2"]},"args":[["q",[1]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}}},"args":[["q",[1]],["q",[2]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]],[["q",[3]],["q",[3]]]]}}},"args":[["q",[0]],["q",[1]],["p",[0]],["q",[2]]]},{"op":{"type":"Measure"},"args":[["q",[0]],["c",[0]]]},{"op":{"type":"Measure"},"args":[["q",[2]],["c",[1]]]},{"op":{"type":"SetBits","classical":{"n_io":2,"values":[0,0]}},"args":[["c",[2]],["c",[3]]]},{"op":{"type":"ClassicalExpBox","box":{"id":"a402a57d-3663-4d56-b02e-14b52eb98d2f","type":"ClassicalExpBox","n_i":3,"n_io":1,"n_o":0,"exp":{"args":[["c",[0]],{"args":[["c",[1]],["c",[2]]],"op":"BitWiseOp.OR"}],"op":"BitWiseOp.AND"}}},"args":[["c",[0]],["c",[1]],["c",[2]]]},{"op":{"type":"CircBox","box":{"id":"dfe9ba9b-5c09-4e52-93c5-0d471b5fbf87","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]],"bits":[],"commands":[{"op":{"type":"PauliExpBox","box":{"id":"c09d076b-19ea-4afe-b0b9-2f6db77a01d3","type":"PauliExpBox","paulis":["X","X","Y","X"],"phase":"-0.3*s1"}},"args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]},{"op":{"type":"PauliExpBox","box":{"id":"f772c903-a6d9-4dcd-9af7-b219bad9eb07","type":"PauliExpBox","paulis":["Y","X","X","X"],"phase":"-0.3*s1"}},"args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]],[["q",[3]],["q",[3]]]]}}},"args":[["q",[0]],["q",[1]],["q",[2]],["p",[0]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}
        </div>
        <div id="qir-circ" style="display:none">
            {"bits": [["s", [0]], ["s", [1]]], "commands": [{"args": [["t", [0]], ["a", [0]], ["s", [0]]], "op": {"box": {"circuit": {"bits": [["c", [0]]], "commands": [{"args": [["q", [0]], ["q", [1]]], "op": {"type": "CX"}}, {"args": [["q", [0]]], "op": {"type": "X"}}, {"args": [["q", [0]], ["q", [1]]], "op": {"type": "CX"}}, {"args": [["q", [1]], ["c", [0]]], "op": {"type": "Measure"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]]]}, "id": "adae22f2-d6ba-4f23-97aa-1ba927b3634e", "type": "CircBox"}, "type": "CircBox"}}, {"args": [["s", [0]], ["t", [0]], ["a", [0]], ["s", [0]]], "op": {"conditional": {"op": {"box": {"circuit": {"bits": [["c", [0]]], "commands": [{"args": [["q", [0]], ["q", [1]]], "op": {"type": "CX"}}, {"args": [["q", [0]]], "op": {"type": "X"}}, {"args": [["q", [0]], ["q", [1]]], "op": {"type": "CX"}}, {"args": [["q", [1]], ["c", [0]]], "op": {"type": "Measure"}}], "implicit_permutation": [[["q", [0]], ["q", [0]]], [["q", [1]], ["q", [1]]]], "phase": "0.0", "qubits": [["q", [0]], ["q", [1]]]}, "id": "adae22f2-d6ba-4f23-97aa-1ba927b3634e", "type": "CircBox"}, "type": "CircBox"}, "value": 0, "width": 1}, "type": "Conditional"}}, {"args": [["t", [0]], ["a", [0]]], "op": {"type": "CX"}}, {"args": [["t", [0]]], "op": {"params": ["0", "1", "0"], "type": "TK1"}}, {"args": [["t", [0]], ["a", [0]]], "op": {"type": "CX"}}, {"args": [["a", [0]], ["s", [0]]], "op": {"type": "Measure"}}, {"args": [["s", [0]], ["t", [0]], ["a", [0]]], "op": {"conditional": {"op": {"type": "CX"}, "value": 0, "width": 1}, "type": "Conditional"}}, {"args": [["s", [0]], ["t", [0]]], "op": {"conditional": {"op": {"params": ["0", "1", "0"], "type": "TK1"}, "value": 0, "width": 1}, "type": "Conditional"}}, {"args": [["s", [0]], ["t", [0]], ["a", [0]]], "op": {"conditional": {"op": {"type": "CX"}, "value": 0, "width": 1}, "type": "Conditional"}}, {"args": [["s", [0]], ["a", [0]], ["s", [0]]], "op": {"conditional": {"op": {"type": "Measure"}, "value": 0, "width": 1}, "type": "Conditional"}}, {"args": [["a", [0]]], "op": {"type": "XXPhase"}}, {"args": [["s", [0]], ["t", [0]], ["s", [0]]], "op": {"conditional": {"op": {"type": "Measure"}, "value": 0, "width": 1}, "type": "Conditional"}}, {"args": [["s", [1]]], "op": {"type": "XOR"}}], "implicit_permutation": [[["a", [0]], ["a", [0]]], [["t", [0]], ["t", [0]]]], "phase": "1.0", "qubits": [["a", [0]], ["t", [0]]]}
        </div>

        <circuit-display-container :circuit-element-str="circuitElementStr"></circuit-display-container>

        <h1>Enter your own circuit to display:</h1>
        <textarea v-model="circuitJson" style="width: 100%"></textarea>
        <circuit-display-container :circuit-raw="circuitRaw"></circuit-display-container>
    </div>

    <script>
        const { createApp } = Vue;
        const circuitDisplayContainer = window["pytket-circuit-renderer"].default;

        // Create the root Vue component
        const app = createApp({
          components: { circuitDisplayContainer },
          data () {
              return {
                  circuitJson: '',
                  circuitElementStr: '#basic-circ',
              }
          },
          computed: {
            circuitRaw () {
                try {
                    if (this.circuitJson) {
                        return JSON.parse(this.circuitJson);
                    }
                    return null;
                } catch (e) {
                    console.log("Failed to parse circuit JSON:", e);
                }
            }
          }
        })
        app.config.unwrapInjectedRef = true;
        app.config.performance = true;

        app.mount("#app");
    </script>
  </body>
</html>
