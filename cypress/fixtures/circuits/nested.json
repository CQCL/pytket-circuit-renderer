{
  "name":"Nested circuit",
  "phase":"0.0",
  "qubits":[["q",[0]],["q",[1]],["p",[0]],["q",[2]]],
  "bits":[["c",[0]],["c",[1]],["c",[2]],["c",[3]]],
  "commands":[
    {"op":{"type":"CX"},"args":[["q",[1]],["q",[0]]]},
    {"op":{"type":"CH"},"args":[["p",[0]],["q",[2]]]},
    {"op":{"type":"CnRy","params":["0.25898888888"]},"args":[["q",[2]],["q",[0]],["p",[0]]]},
    {"op":{"type":"H"},"args":[["q",[0]]]},
    {"op":{"type":"Rxx","params":["0.25"]},"args":[["q",[1]],["q",[2]]]},
    {"op":{"type":"X"},"args":[["q",[0]]]},
    {"op":{"type":"Reset"},"args":[["q",[1]]]},
    {"op":{"type":"SWAP"},"args":[["q",[0]],["q",[2]]]},
    {"op":{"type":"CSWAP"},"args":[["p",[0]],["q",[2]],["q",[1]]]},
    {"op":{"type":"CCX"},"args":[["q",[0]],["q",[1]],["q",[2]]]},
    {"op":{"type":"CX"},"args":[["q",[0]],["q",[2]]]},
    {"op":{"type":"CRz","params":["0.25"]},"args":[["q",[2]],["q",[0]]]},
    {"op":{"type":"Unitary1qBox","box":{"id":"32e1069b-8fc6-4644-a195-b327889aa330","matrix":[[[0,0],[1,0]],[[0.707,0.707777777],[0,-1]]],"type":"Unitary1qBox"}},"args":[["q",[2]]]},
    {"op":{"type":"Unitary3qBox","box":{"id":"516051c8-bb47-4455-ae9d-158b666d7073","matrix":[[[0,1],[1,0],[0.707,-0.707],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,0],[0.707,0.707],[0,0],[1,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-1,0],[1,0],[0,0],[-0.707,-0.707],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-0.707,0.707],[0,0],[0,-1],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,1],[1,0],[0.707,-0.707],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,0],[0.707,0.707],[0,0],[1,0],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-1,0],[1,0],[0,0],[-0.707,-0.707],[0,1],[1,0],[0.707,-0.707],[0,0]],[[-0.707,0.707],[0,0],[0,-1],[0,0],[0,1],[1,0],[0.707,-0.707],[0,0]]],"type":"Unitary3qBox"}},"args":[["q",[0]],["q",[1]],["p",[0]]]},
    {"op":{"type":"Unitary2qBox","box":{"id":"cdaafb45-929d-4f4a-af85-42fc66693ec7","matrix":[[[0,1],[1,0],[0.707,-0.707],[0,0]],[[0,0],[0.707,0.707],[0,0],[1,0]],[[-1,0],[1,0],[0,0],[-0.707,-0.707]],[[-0.707,0.707],[0,0],[0,-1],[0,0]]],"type":"Unitary2qBox"}},"args":[["q",[0]],["q",[1]]]},
    {"op":{"type":"ExpBox","box":{"id":"81d4a2f3-8a49-46f2-a945-a40bdb6a6933","type":"ExpBox","matrix":[[[0,0],[1,0]],[[0.707,0.707],[0,-1]]],"phase":3}},"args":[["p",[0]]]},
    {"op":{"type":"ProjectorAssertionBox","box":{"id":"b97cd427-d224-4acb-bf50-3a9ac5b4b9de","type":"ProjectorAssertionBox","matrix":[[[0,0],[1,0]],[[0.707,0.707],[0,-1]]]}},"args":[["q",[2]],["c",[0]]]},
    {"op":{"type":"StabiliserAssertionBox","box":{"id":"80607fe8-8718-43e7-ac7f-63c772441c1d","type":"StabiliserAssertionBox","stabilisers":[{"coeff":true,"string":["X"]},{"coeff":true,"string":["Y"]},{"coeff":false,"string":["Z"]}]}},"args":[["q",[0]],["q",[2]],["c",[0]],["c",[1]],["c",[2]]]},
    {"op":{"type":"Condition","conditional":{"op":{"type":"YYPhase","params":["0.5*alpha_1"]},"width":3,"value":6}},"args":[["c",[0]],["c",[1]],["c",[2]],["q",[0]],["q",[2]]]},
    {"op":{"type":"PauliExpBox","box":{"id":"205eff17-1b1c-4cbe-97bd-6150b131a833","type":"PauliExpBox","paulis":["X","Z"],"phase":"0.634"}},"args":[["p",[0]],["q",[0]]]},
    {"op":{"type":"PhasePolyBox","box":{"id":"671434a7-e7f4-48de-b687-b660f687545f","type":"PhasePolyBox","n_qubits":2,"qubit_indices":[[["p",[0]],1],[["q",[1]],2]],"phase_polynomial":[[[false,false],0.4],[[false,true],0.3],[[true,false],0.2],[[true,true],0.1]],"linear_transformation":[[true,false,false,true],[false,true,true,false],[false,true,false,false],[false,true,true,true]]}},"args":[["p",[0]],["q",[1]]]},
    {"op":{"type":"Measure"},"args":[["q",[0]],["c",[0]]]},
    {"op":{"type":"Custom","box":{"id":"13aa2b86-e4c9-4def-8715-3c8e2c116522","type":"Composite","gate":{"args":["alpha","beta","gamma"],"definition":{
      "phase":"0.0",
      "qubits":[["q",[0]],["q",[1]],["q",[2]]],
      "bits":[],
      "commands":[
        {"op":{"type":"PauliExpBox","box":{"id":"1d57e158-521f-46d2-9a51-02b380f0f8a4","type":"PauliExpBox","paulis":["X","X","Y"],"phase":"-0.3*alpha"}},"args":[["q",[0]],["q",[1]],["q",[2]]]},
        {"op":{"type":"PauliExpBox","box":{"id":"2a3869e8-8894-438e-b5d3-ae60d10f8d66","type":"PauliExpBox","paulis":["Y","X","X"],"phase":"-0.3*beta"}},"args":[["q",[0]],["q",[1]],["q",[2]]]},
        {"op":{"type":"Rx","params":["gamma"]},"args":[["q",[1]]]}
      ],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]]]},
      "name":"Frank"},"params":["0.707","1.5","0.2"]}},
      "args":[["p",[0]],["q",[1]],["q",[0]]]
    },
    {"op":{"type":"Control","box":{"id":"1cc06ca1-3d37-4ab3-9976-3bf2570f1cdf","type":"QControlBox","n_controls":2,"op":{"type":"Rx","params":["0.3"]}}},"args":[["p",[0]],["q",[1]],["q",[0]]]},
    {"op":{"type":"Control","box":{"id":"b45ab9e7-d677-4856-bcb7-cb1f20ec127e","type":"QControlBox","n_controls":2,"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]]],"bits":[],"commands":[{"op":{"type":"CX"},"args":[["q",[0]],["q",[1]]]},{"op":{"type":"Rz","params":["0.2"]},"args":[["q",[1]]]},{"op":{"type":"PauliExpBox","box":{"id":"0869b61f-6fe9-46a4-b614-4201ce39bfd1","type":"PauliExpBox","paulis":["Z","Y"],"phase":"-0.2"}},"args":[["q",[0]],["q",[1]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}}}}},"args":[["p",[0]],["q",[1]],["q",[0]],["q",[2]]]},
    {"op":{"type":"Control","box":{"id":"76996535-ed6e-42dc-bdd9-ee0a0a8352fb","type":"QControlBox","n_controls":2,"op":{"type":"ExpBox","box":{"id":"867b9d27-c4c4-4a0a-80af-5c6868b4a303","type":"ExpBox","matrix":[[[0,0],[1,0]],[[0.707,0.707],[0,-1]]],"phase":3}}}},"args":[["q",[1]],["q",[0]],["q",[2]]]},
    {"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{
      "phase":"0.0",
      "qubits":[],
      "name": "MyCircuit",
      "bits":[["c",[0]],["c",[1]],["c",[2]]],
      "commands":[
        {"op":{"type":"ExplicitModifier","classical":{"n_i":1,"name":"XOR","values":[0,1,1,0]}},"args":[["c",[0]],["c",[1]]]},
        {"op":{"type":"ExplicitModifier","classical":{"n_i":1,"name":"XOR","values":[0,1,1,0]}},"args":[["c",[1]],["c",[0]]]},
        {"op":{"type":"ExplicitPredicate","classical":{"n_i":2,"name":"AND","values":[0,0,0,1]}},"args":[["c",[0]],["c",[1]],["c",[2]]]},
        {"op":{"type":"SetBits","classical":{"values":[0,1]}},"args":[["c",[0]],["c",[1]]]},
        {"op":{"type":"ExplicitPredicate","classical":{"n_i":1,"name":"NOT","values":[1,0]}},"args":[["c",[2]]]},
        {"op":{"type":"ExplicitPredicate","classical":{"n_i":1,"name":"NOT","values":[1,0]}},"args":[["c",[0]],["c",[1]]]}
      ], "implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]]]}}},
      "args":[["c",[0]],["c",[2]],["c",[1]]]
    },
    {"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{
      "phase":"0.0",
      "qubits":[["q",[0]],["q",[1]]],
      "bits":[["c",[0]],["c",[1]],["c",[2]]],
      "commands":[
        {"op":{"type":"CX"},"args":[["q",[0]],["q",[1]]]},
        {"op":{"type":"Rz","params":["0.2"]},"args":[["q",[1]]]},
        {"op":{"type":"ExplicitPredicate","classical":{"n_i":1,"name":"NOT","values":[1,0]}},"args":[["c",[0]]]},
        {"op":{"type":"CopyBits","classical":{"n_i":2}},"args":[["c",[0]],["c",[1]],["c",[2]]]},
        {"op":{"type":"RangePredicate","classical":{"n_i":2,"upper":6,"lower":2}},"args":[["c",[1]],["c",[2]],["c",[0]]]}
      ],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}}},
      "args":[["q",[0]],["q",[2]],["c",[2]]]
    },
    {"op":{"type":"CircBox","box":{"id":"621ee04f-bc1f-4ae3-bbf5-0db8385e9e01","type":"CircBox","circuit":{
      "phase":"0.0",
      "qubits":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]],
      "bits":[],"commands":[
        {"op":{"type":"SWAP"},"args":[["q",[1]],["q",[3]]]},
        {"op":{"type":"CircBox","box":{"id":"621ee04f-bc1f-4ae3-bbf5-0db8385e9e01","type":"CircBox","circuit":{
          "phase":"0.0",
          "qubits":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]],
          "bits":[],"commands":[
            {"op":{"type":"CnX","n_qb":4}, "args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]},
            {"op":{"type":"CnRy","n_qb":4,"params":["0.2"]},"args":[["q",[3]],["q",[2]],["q",[1]],["q",[0]]]}
          ],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]],[["q",[3]],["q",[3]]]]}}},
          "args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]
        },
        {"op":{"type":"SWAP"},"args":[["q",[3]],["q",[1]]]},
        {"op":{"type":"CX"},"args":[["q",[2]],["q",[0]]]},
        {"op":{"type":"CircBox","box":{"id":"e418b9ab-258c-4e88-9797-4fed60600839","type":"CircBox","circuit":{
          "phase":"0.0",
          "qubits":[["q",[0]],["q",[1]]],
          "bits":[],
          "commands":[
            {"op":{"type":"CX"},"args":[["q",[0]],["q",[1]]]},
            {"op":{"type":"Rz","params":["0.2"]},"args":[["q",[1]]]}
          ],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]}}},
          "args":[["q",[1]],["q",[2]]]
        }],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]],[["q",[3]],["q",[3]]]]}}},
      "args":[["q",[0]],["q",[1]],["p",[0]],["q",[2]]]
    },
    {"op":{"type":"Measure"},"args":[["q",[0]],["c",[0]]]},
    {"op":{"type":"Measure"},"args":[["q",[2]],["c",[1]]]},
    {"op":{"type":"SetBits","classical":{"n_io":2,"values":[0,0]}},"args":[["c",[2]],["c",[3]]]},
    {"op":{"type":"ClassicalExpBox","box":{"id":"a402a57d-3663-4d56-b02e-14b52eb98d2f","type":"ClassicalExpBox","n_i":3,"n_io":1,"n_o":0,"exp":{"args":[["c",[0]],{"args":[["c",[1]],["c",[2]]],"op":"BitWiseOp.OR"}],"op":"BitWiseOp.AND"}}},"args":[["c",[0]],["c",[1]],["c",[2]]]},
    {"op":{"type":"CircBox","box":{"id":"dfe9ba9b-5c09-4e52-93c5-0d471b5fbf87","type":"CircBox","circuit":{"phase":"0.0","qubits":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]],"bits":[],"commands":[{"op":{"type":"PauliExpBox","box":{"id":"c09d076b-19ea-4afe-b0b9-2f6db77a01d3","type":"PauliExpBox","paulis":["X","X","Y","X"],"phase":"-0.3*s1"}},"args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]},{"op":{"type":"PauliExpBox","box":{"id":"f772c903-a6d9-4dcd-9af7-b219bad9eb07","type":"PauliExpBox","paulis":["Y","X","X","X"],"phase":"-0.3*s1"}},"args":[["q",[0]],["q",[1]],["q",[2]],["q",[3]]]}],"implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]],[["q",[2]],["q",[2]]],[["q",[3]],["q",[3]]]]}}},"args":[["q",[0]],["q",[1]],["q",[2]],["p",[0]]]}
  ],
  "implicit_permutation":[[["q",[0]],["q",[0]]],[["q",[1]],["q",[1]]]]
}
